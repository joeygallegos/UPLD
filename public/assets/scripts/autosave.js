(function($){var timeout=[];$.fn.autosave=function(options){return this.each(function(){var settings=$.extend(true,{'delay':3000,'url':'',beforeSave:function(){},afterSave:function(){}},options);var input=$(this);input.bind('keyup',function(){clearTimeout(timeout);timeout=setTimeout(function(){settings.beforeSave.call(this);$.post(settings.url,{_method:'PUT',is_private:$('#is_private').val(),content:input.val()},function(){settings.afterSave.call(this);});console.log(input.val());},settings.delay);});});};})(jQuery);